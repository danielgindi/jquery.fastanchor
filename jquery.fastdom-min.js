/*
 jquery.fastdom
 git://github.com/danielgindi/jquery.fastdom.git
*/
(function(d,c){"function"===typeof define&&define.amd?define("jquery.fastdom",["jquery"],c):"object"===typeof exports?module.exports=c(require("jquery")):c(d.jQuery)})(this,function(d){function c(c,b){for(var e=0;e<c.length;e++)if(c[e].identifier===b)return c[e];return null}var p={A:!0,LABEL:!0,BUTTON:!0};d(window).on("touchstart.fastdom",function(h){for(var b=h.originalEvent.changedTouches[0].target;b&&!(b.tagName in p||"input"===b.tagName&&/^radio|checkbox$/g.test(b.type));)b=b.parentNode;if(b&&
!/\bfastdom-ignore\b/.test(b.className)&&("LABEL"!==b.tagName||this.click)){var e=h.originalEvent.changedTouches[0].identifier,k=!1,l=function(){k=!0},g=!0,n=function(a){f.removeClass("active").off("touchmove.fastdom").off("touchend.fastdom").off("touchcancel.fastdom").off("click.fastdom");"touchcancel"===a.type&&f.off("mousedown.fakebutton");m.off("scroll.fastdom",l)},f=d(b),m=f.parents().add(window);m.on("scroll.fastdom",l);f.addClass("active").on("touchmove.fastdom",function(a){if(a=c(a.originalEvent.changedTouches,
e))g=(a=document.elementFromPoint(a.pageX,a.pageY))&&(this===a||d.contains(this,a)),f.toggleClass("active",!!g)}).on("touchend.fastdom",function(a){var b=this;if(c(a.originalEvent.changedTouches,e)&&(n(a),g&&!k&&!a.isDefaultPrevented()&&document.contains(this))){a.preventDefault();var d=setTimeout(function(){if(b.click)b.click();else{var a=document.createEvent("MouseEvent");a.initEvent("click",!0,!0);b.dispatchEvent(a)}},0);f.one("click.fastdom",function(a){d&&(clearTimeout(d),d=null)})}}).on("touchcancel.fastdom",
n).on("mousedown.fastdom",function(a){500>=+new Date-0&&(a.preventDefault(),a.stopPropagation());f.off("mousedown.fastdom")})}})});
